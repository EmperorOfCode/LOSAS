<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="scaffolded-by" content="https://github.com/google/stagehand">
    <title>Land of Storytelling and Sorcery</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/forms.css">

    <link rel="icon" href="favicon.ico">
    <script type="text/javascript" src="lz-string.min.js"></script>

    <script defer src="main.dart.js"></script>
</head>

<body>

  <div id="output"></div>
<div id = "todo">
   <h1> Next Five Minutes:</h1>
    <br>
    <li>find out why i can't change chars names</li>
    <li>add init memory string/nums to char serialization</li>
    <li>session 85 sends out 35 messages, figure out why it doesn't end</li>
    <li>unit test that entities with no name take their doll's name</li>
    <li>render + button for traits, clicking it opens a modal with all prepack icons, pick one . IMPORTANT store entire prepack, don't just reference from scenario (this allows for AUs)</li>

    <h1>Next Hour:</h1>
    <br>
    <li>x button to remove any trait</li>
    <li>char builder button to download image of char with char datastring embedded (no custom images)</li>
    <li>ability to write in string keys/values or num keys/values (name/doll string uses it in the backend but you can do things like override your moon name)</li>
    <li>add ability to add/remove characters from game runner (embed char builder, but no option to upload scenario)</li>
    <li>confirm i can run crypto scenario with exactly one alice/bob/etc</li>
    <li>modify dolls to know if they are facing left or right(bool) have most common one be default</li>



    <h1>Next Day:</h1>
    <br>
    <li>action effect for killing, reviving or deleting (can not be revived, removed from scenario entirely) a char. dead chars can not take actions but can be acted upon.</li>
    <li>target filter for dead chars (but not deleted. dead are still targetable, deleted are just gone)</li>
    <li>prepacks can specify a doll type to sample from? (not a generator, just a new field) (scenario will need this for char gen) (bastard prepack makes you a bro, alice/bob/carol make you pigeon? dqon makes you literally dqon, (might could just be a string generator for dqon) etc). in sburb player makes you a kid or whatever, denizen makes you a denizen, etc</li>
    <li>make sure reference memory keys are a thing so that aspect sets associated good/bad stats (or wahtever) adn class can modify them
   <li>maybe things like stored [TARGET.STRINGMEMORY.ASSOCIATEDGOODSTAT] as the key to add -13 to or whatever</li></li>
    <li>SBURBSimple scenario (make as much sburb as you can with the current system)</li>
    <li>make bro a bard of blood (he unites everyone to destroy him) test reference memory keys (he should lower everyones loyal value or whatever)</li>
    <li>figure out how to detect if char should be facing left by default</li>

    <li>action effect scromble scene priority (shuffle scene list)</li>
    <li>make final game builder initial state (load a scenario from list, then scramble prepacks in suggested chars)</li>
    <li>scenario generators should define defaults like "dollstring for moon" (moon generator will define palette, class will define layers), "dollstring for godtier" (aspect generator will define palette, class will define layers, caste will define wing layer?), "dollstring for dead" (player defined?), "dollstring for grimdark" (player defined?) that sort of thing.  Observers can redefine these defaults</li>
    <li>make final game builder state 1: load a scenario from list, change suggest chars add/remove char slots</li>
    <li>make final game builder state2: load a scenario from list, add prepacks from ANY scenario in that list </li>
    <li>make final game builder state4: load a scenario from list OR FILE, add prepacks from ANY scenario in that list OR FILE </li>
    <li>make final game builder state3: load a scenario from list OR INTERNET, add prepacks from ANY scenario in that list OR INTERNET </li>

    <li>(useful for romance)filters for both target and owner having the same value stored to two given keys (checks both num and string for key)</li>
    <h1>Major TODO</h1>
    <br>

    <li>refactor dollsim to have better doll builder maybe? modals with part previews?</li>
    <li>overwrite session 85 to be farragnarok chars (though various scenarios will obvs be non canon)</li>
    <li>scenario defines sublists of prepacks for optiona/required.  for example, random SBURB chars MUST have one aspect, one class, two interests, one moon, etc. </li>
    <li>fix wigglersim save data , half way done in branch PlzWork</li>
    <li>ability to reorder scenes in list/prepack/etc</li>
    <li>scenario, prepack and entities should all have optional associated datapngs</li>
    <li> denizens get generated for each player based on aspect.  need an entity generator (entity doesnt exist until generated, then is active). could do consorts too.  negastrife?</li>
    <li>make  action effects that deactivates/kills/revives a target. (scenarios or whatever can have auto things that kill someone if the hp stat is under 0 or whatever)</li>
    <li>final ui (i.e. load a scenario, tweak its starting conditions, pick a seed (or randomize it), and go) (shareable url with scenario name and seed (iff scenario is included))</li>
    <li>IMPORTANT: how do we wanna handle custom image uploads? if you reuse a bg for a scene you don't wanna attach it PER scene...</li>
    <li>serialize to data png (review viking book for how it works) (including images uploaded to scenes/chars)</li>
    <li>builders (scene, scenario, entity, generator, prepack</li>
    <li>doll creator (lamia only) (takes scenario as input, exports it as a prepack bundle setting various dollstrings scenario requires in memory like godtier and dead, etc </li>
    <li>partial doll creator (specifies doll type and layers that have important values and orientation thats it, so you can do things like define "dead" graphic) and palette</li>
    <li>skald and neb commentary during story (triggered by keywords) zoom out to show audience and storyteller</li>
    <li>*realy* want a fake wiki rip (maybe just the hosted paldemics)</li>
    <h1>Incidental TODO:<br></h1>
    <li>if cpu usage of animation is high, before adding class, detect if the two canvases have the same image data</li>
    <li>peewee scenario for 858 (scenario shoved into image for EVERY paldemic in audio logs)</li>
    <li>scenes actually have two canvas's rendered, one before effects and one after, animates between them using css</li>
    <li>modify doll lib so that each dollset knows if its facing left or right by default, when current doll is changed, reset that variable</li>
    <li>effect for current doll (filter not needed, just check string memory)</li>
    <li>refactor filters/effects to be more consistent before stating to serialize them. what are the bare minimum needed</li>
    <li>ability to specify a string layer name and an int layer number to change in your current dollstring (ignores any layers that don't exist)</li>
    <li>ability to specify a palette (serialized to json, string string pairs) to replace your palette with (if it doesn't have all your colors it only replaces some)(ignores any colors not in your palette)</li>
    <li>palette creator</li>
    <li>https://dartpad.dev/</li>
    <li>scenes load their bg image from their entities memory (useful for things like land background from generators?)</li>
    <li>WigglerSim tie in, given a wiggler sim json data thingy (including known castes) for a grub/alumni, automatically generate a character imagefile that can be loaded into the wigglersim scenario</li>
    <li>CreditSim tie in, loads a credit datastring in and turns it into an Entity (associated phrase and all)</li>
    <li>ability to black list generator keys from initialization (so that loaded chars from wigglersim/credit sim have their set stats)</li>
    <li>ability to set temporary doll to render with (then return to normal?) (complicated action effect?)</li>
    <li>once i can serialize scenes, make a full on stand alone DQ0n that turns others into DQ0n as well but if their original name is restored they turn back.</li>
    <li>lamia doll creator (packaged with LOSAS, not just doll lib)</li>
    <li>have a random filter like sburbsim does</li>
    <li>need ways to identify if an entity is the same entity in your memory, such as enenmy, SO whatever</li>
    <li>KeepIfStringIsSameAsMemory</li>
    <li>ability to deactivate (no longer targetable) or kill(can't tick, but can be targeted)/revive an entity as an effect</li>
    <li>ability for action effects to add generators to target/owner (example use case, giving them new reasons to flip out) WILL REQUIRE SERIALIZATION</li>
    <li>scenarios have prepacks associated with them, let you do things like decide what are valid options (scenes, generators, etc all together) for character creators to have. can also add prepacks directly to chars, but thats a higher waste tier (things like adding highschool ai to a sburb game)</li>
    <br>
    <h1> Dubious TODO: Are these a good idea? Or maybe they just aren't fleshed out yet</h1>
    <br>
    <li>bg fx: (scene takes in array of FX objects using pl's mutators or putting overlays on top (fire, tentacles, etc).  while fx are applied on a scene, you can have a boolean to make them PERMANENT to a bg (stored in the scenario itself).  so if "haunted basement" is on fire it STAYS on fire no matter what scene it is or who has it.</li>
    <li>audio offsets might be harder than i thought, pl says to look into: Media Fragment URI schema</li>
    <li>in builder, output examples of polarity (this will add 2 to a stored value of 4 or whatever)</li>
    <li>series of Decision Points that cause the sim to show the "zoomed out" version, and the player can choose between a few options the Audience throws out</li>
    <li>Consider removing all effects besides SetString and SetNum that don't deal with memory (otherwise i'm doubling everything). use case is setString and then things like AppendStringFromMemory or SetDollFromMemory</li>
    <li>filter/effect for current doll having layer with name X and value Y? (needed to detect god tier etc? or something could target frowners , i dunno, might not be useful)</li>
<li>ability to set x/y position of an entity, have a scene specify you should render them there this scene rather than procedurally</li>
<li>ability to have a scene specify no render before, no render after, or no render either</li>
    <li>filter for current doll having a specific color in their palette?</li>
    <li>don't let have dolls have generic images just yet, wait to see</li>
    <li>system to set doll prefab things like "smug expression" (does this change default string, or just the string for this scene) would need to have a scripting language for layer names and layer values. some things default, but you can add your own things into memory too (all stored to memory). a character creator for the SBURB scenario would have preset memory slots like GODTIERBODY and GODTIERPalette, as well as grimdark palette etc. can also do things like "current sprite plus these layers with these values" for "look angry rn"</li>
    <li>STRETCH GOAL: automatic system to put the scenario in "TimeTravel" mode which lets you take any scene in the page and prevent it and have things keep going from there (will require scenario keeping a list of datastrings of itself, and the ability to load from scene chosen -1 and keep going (eat a seed tho, so its not guaranteed to go the exact same way)) (big thing is that if something is 'fated' to happen it happens anyways even if you try to undo it. but randomness IS a thing so... </li>



</div>



</body>
</html>
